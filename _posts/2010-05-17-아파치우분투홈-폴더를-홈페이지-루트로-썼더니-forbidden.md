---
title: '[아파치:우분투]홈 폴더를 홈페이지 루트로 썼더니 Forbidden이 나와서&#8230;'
author: 안형우
layout: post
permalink: /archives/600
aktt_notify_twitter:
  - yes
daumview_id:
  - 36920920
categories:
  - 서버단
tags:
  - apache
---
서버를 운영하기에는 확실히 리눅스가 짱이다. 신경쓸 게 별로 없다.

물론 패키지로 나와 있는 걸 사용하는 경우에는 윈도우가 더 편할 수도 있겠다.

하지만 명령어 몇 줄로 서버 세팅을 완큐에 완료할 수 있다는 것, 실제 서버와 거의 똑같은 환경에서 테스트할 수 있다는 점(물론 윈도우 서버에는 해당 안 되겠지만;;) 등 개발자가 리눅스를 사용해야 할 이유는 많은 것 같다.

개발자 아닌 사람에게 리눅스를 권하는 건 조심스럽지만 말이다.

아파치를 설치하고 홈페이지를 로컬에서 돌리려고 할 때 항상 날 귀찮게 한 것은 Forbidden 이라는 메시지였다. 정확히는 아래 메시지다.

<pre class="brush:plain">You don&#039;t have permission to access / on this server.</pre>

로컬호스트로 접속했는데 왜 퍼미션이 없단 말이냐!!!

그러나 그런 개념은 아니라는 걸 깨닫는 데는 오래 걸리지 않았다. 왜냐?

`/home` 디렉토리에서 `chmod 711 자신의-계정명` &#8211; 이렇게 입력하면 해결이 된다는 이야기를 발견해서 그렇게 똑같이 해 봤는데 전혀 작동하지 않았다. (참고로 `/home` 위치에서 해야 제대로 한 거다. 다른 위치에서 하면 안 된다. 정확히는 &#8216;자신의 계정명&#8217;이 아니라 &#8216;자신의 계정명과 똑같은 폴더명&#8217;이기 때문이다. 뭐, `chmod 711 /home/계정명` 이렇게 입력하면 될 지도 모르겠다. 여튼 아직 난 초보니까 이정도 하고 패스.)

그래서 `chmod 755 mytory -R` 이렇게 입력했다. 와우 이렇게 하니까 홈페이지 접속이 잘 됐다.

그런데 &#8212;-

헐랭~ 파일 구조를 다 노출시켜버리는 것이었다!!!!

웹브라우저로 FTP 접속을 해 본 적이 있을지 모르겠다. 꼭 그 때 화면처럼 파일 구조를 친절하게 다 노출해 주는 것을 보고 기겁을 하고 다시 `chmod 711 mytory -R` 을 황급시 실행했다.

어쨌건간에 이번에 하려고 하는 것은 웹에 공개를 할 것이었기 때문에 보안을 신경을 써야 했던 것이다.(예전에 로컬에서만 쓸 때는 막 777로 해놓고 사용하고 그랬다. ㅋㅋ)

여튼, 이래서는 `home` 폴더에 생성을 해놓고선 어떻게 작업을 하라는 것인가!

내가 `/var/www` 를 사용하지 않는 이유는 간단했다. 파일 복사할 때 매우 짜증났기 때문이다. 할 때마다 `root` 권한을 얻어야 한다니 정말 별로였다.

그런데~! 두둥~ <a href="http://ihoney.pe.kr/entry/%EC%9A%B0%EB%B6%84%ED%88%AC%EB%A6%AC%EB%88%85%EC%8A%A4%EC%97%90%EC%84%9C-APM-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%84%A4%EC%A0%95" target="_blank">간단한 해결책을 발견</a>했다.

직접 `/var/www` 의 소유권을 획득하면 되는 것이었다. 아아~ 이 공부 짧음이여.

명령어는 아래와 같다.

<pre class="brush:plain">sudo chown mytory:mytory /var/www -R</pre>

(당연한 거지만 mytory는 내 계정명이다. 똑같이 따라 쓰지 말란 말이다. 자기 계정명을 입력해야 한다.)

이러면 번거로운 과정 없이 간단하게 `/var/www` 사용 가능.

참고로 말하자면 `-R`은 모든 하위 디렉토리와 파일에도 영향을 미치라는 뜻의 옵션이다.